{"version":3,"sources":["components/common/FormsControl/FormsControl.module.css","components/common/FormsControl/FormsControl.js","utils/validators/validators.js","../node_modules/react-router/es/generatePath.js","../node_modules/react-router/es/Redirect.js","components/Login/Login.jsx"],"names":["module","exports","formControl","error","formSummaryError","Element","_ref","input","_ref$meta","meta","touched","props","Object","D_Projects_React_react_sotial_network_sotial_network_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_excluded","hasError","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","styles","_Element","assign","createField","placeholder","name","validate","component","arguments","length","undefined","text","redux_form__WEBPACK_IMPORTED_MODULE_2__","__webpack_require__","d","__webpack_exports__","required","maxLengthCreator","value","maxLength","concat","patternCache","cacheCount","es_generatePath","pattern","params","cacheKey","cache","compiledGenerator","path_to_regexp_default","compile","generatePath_compileGenerator","generator","pretty","_extends","target","i","source","key","prototype","hasOwnProperty","call","Redirect_Redirect","_React$Component","Redirect","instance","Constructor","TypeError","_classCallCheck","this","self","ReferenceError","_possibleConstructorReturn","apply","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","isStatic","context","router","staticContext","componentWillMount","browser_default","perform","componentDidMount","componentDidUpdate","prevProps","prevTo","es","to","nextTo","warning_default","pathname","search","computeTo","computedMatch","history","push","replace","render","react_default","Component","propTypes","prop_types_default","object","bool","from","string","oneOfType","isRequired","defaultProps","contextTypes","shape","func","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","react_router__WEBPACK_IMPORTED_MODULE_2__","redux_form__WEBPACK_IMPORTED_MODULE_3__","_redux_auth_reducer__WEBPACK_IMPORTED_MODULE_4__","_utils_validators_validators__WEBPACK_IMPORTED_MODULE_5__","_common_FormsControl_FormsControl__WEBPACK_IMPORTED_MODULE_6__","_common_FormsControl_FormsControl_module_css__WEBPACK_IMPORTED_MODULE_7__","_common_FormsControl_FormsControl_module_css__WEBPACK_IMPORTED_MODULE_7___default","Input","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","type","connect","state","isAuth","auth","login","formData","email","password","rememberMe"],"mappings":"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","file":"static/js/6.ea35e055.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__2Nffd\",\"error\":\"FormsControl_error__NieoK\",\"formSummaryError\":\"FormsControl_formSummaryError__2LHCK\"};","import React from \"react\"\r\nimport { Field } from \"redux-form\";\r\nimport styles from \"./FormsControl.module.css\"\r\n\r\nexport const Element = Element => ({ input, meta: { touched, error }, ...props }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                <Element {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validate, component, props = {}, text = '') => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name} component={component}\r\n            validate={validate}\r\n            {...props}\r\n            {...text} />\r\n    </div>\r\n\r\n)","export const required = value => {\r\n    if (value) {\r\n        return undefined\r\n    } else return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) {\r\n        return `Max length is ${maxLength} symbols`\r\n    } else return undefined\r\n}","import pathToRegexp from \"path-to-regexp\";\nvar patternCache = {};\nvar cacheLimit = 10000;\nvar cacheCount = 0;\n\nvar compileGenerator = function compileGenerator(pattern) {\n  var cacheKey = pattern;\n  var cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\n  if (cache[pattern]) return cache[pattern];\n  var compiledGenerator = pathToRegexp.compile(pattern);\n\n  if (cacheCount < cacheLimit) {\n    cache[pattern] = compiledGenerator;\n    cacheCount++;\n  }\n\n  return compiledGenerator;\n};\n/**\n * Public API for generating a URL pathname from a pattern and parameters.\n */\n\n\nvar generatePath = function generatePath() {\n  var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"/\";\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (pattern === \"/\") {\n    return pattern;\n  }\n\n  var generator = compileGenerator(pattern);\n  return generator(params, {\n    pretty: true\n  });\n};\n\nexport default generatePath;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport warning from \"warning\";\nimport invariant from \"invariant\";\nimport { createLocation, locationsAreEqual } from \"history\";\nimport generatePath from \"./generatePath\";\n/**\n * The public API for updating the location programmatically\n * with a component.\n */\n\nvar Redirect = function (_React$Component) {\n  _inherits(Redirect, _React$Component);\n\n  function Redirect() {\n    _classCallCheck(this, Redirect);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Redirect.prototype.isStatic = function isStatic() {\n    return this.context.router && this.context.router.staticContext;\n  };\n\n  Redirect.prototype.componentWillMount = function componentWillMount() {\n    invariant(this.context.router, \"You should not use <Redirect> outside a <Router>\");\n    if (this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidMount = function componentDidMount() {\n    if (!this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var prevTo = createLocation(prevProps.to);\n    var nextTo = createLocation(this.props.to);\n\n    if (locationsAreEqual(prevTo, nextTo)) {\n      warning(false, \"You tried to redirect to the same route you're currently on: \" + (\"\\\"\" + nextTo.pathname + nextTo.search + \"\\\"\"));\n      return;\n    }\n\n    this.perform();\n  };\n\n  Redirect.prototype.computeTo = function computeTo(_ref) {\n    var computedMatch = _ref.computedMatch,\n        to = _ref.to;\n\n    if (computedMatch) {\n      if (typeof to === \"string\") {\n        return generatePath(to, computedMatch.params);\n      } else {\n        return _extends({}, to, {\n          pathname: generatePath(to.pathname, computedMatch.params)\n        });\n      }\n    }\n\n    return to;\n  };\n\n  Redirect.prototype.perform = function perform() {\n    var history = this.context.router.history;\n    var push = this.props.push;\n    var to = this.computeTo(this.props);\n\n    if (push) {\n      history.push(to);\n    } else {\n      history.replace(to);\n    }\n  };\n\n  Redirect.prototype.render = function render() {\n    return null;\n  };\n\n  return Redirect;\n}(React.Component);\n\nRedirect.propTypes = {\n  computedMatch: PropTypes.object,\n  // private, from <Switch>\n  push: PropTypes.bool,\n  from: PropTypes.string,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n};\nRedirect.defaultProps = {\n  push: false\n};\nRedirect.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired\n    }).isRequired,\n    staticContext: PropTypes.object\n  }).isRequired\n};\nexport default Redirect;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { login } from \"../../redux/auth-reducer\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { createField, Element } from \"../common/FormsControl/FormsControl\";\r\nimport styles from \"./../common/FormsControl/FormsControl.module.css\"\r\n\r\nconst Input = Element('input')\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n    return (\r\n\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Email\", 'email', [required], Input)}\r\n            {createField(\"Password\", 'password', [required], Input, { type: 'password' })}\r\n            {createField(null, 'rememberMe', null, Input, { type: 'checkbox' }, 'remember me')}\r\n            {error && <div className={styles.formSummaryError}> {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login)"],"sourceRoot":""}